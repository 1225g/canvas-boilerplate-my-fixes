{"version":3,"file":"./js/canvas.bundle.js","mappings":"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","sources":["webpack://canvas-template/./src/js/utils.js","webpack://canvas-template/./src/img/invader.png","webpack://canvas-template/./src/img/spaceship.png","webpack://canvas-template/webpack/bootstrap","webpack://canvas-template/webpack/runtime/compat get default export","webpack://canvas-template/webpack/runtime/define property getters","webpack://canvas-template/webpack/runtime/global","webpack://canvas-template/webpack/runtime/hasOwnProperty shorthand","webpack://canvas-template/webpack/runtime/make namespace object","webpack://canvas-template/webpack/runtime/publicPath","webpack://canvas-template/./src/js/canvas.js"],"sourcesContent":["function randomIntFromRange(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min)\n}\n\nfunction randomColor(colors) {\n  return colors[Math.floor(Math.random() * colors.length)]\n}\n\nfunction distance(x1, y1, x2, y2) {\n  const xDist = x2 - x1\n  const yDist = y2 - y1\n\n  return Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2))\n}\n\nmodule.exports = { randomIntFromRange, randomColor, distance }\n","export default __webpack_public_path__ + \"4793e7f635a6f442db1aefdfa44b9f2b.png\";","export default __webpack_public_path__ + \"52a211ddafab2140bf3ab40d76be1e79.png\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../\";","import { randomIntFromRange, randomColor, distance } from './utils'\n\nimport spaceship from '../img/spaceship.png'\nimport invaderImg from '../img/invader.png'\n\nconst scoreEl = document.querySelector('#scoreEl')\nconst canvas = document.querySelector('canvas')\nconst c = canvas.getContext('2d')\n\ncanvas.width = 1024\ncanvas.height = 576\n\nclass Player {\n  constructor() {\n    \n    this.velocity = {\n      x: 0,\n      y: 0\n    }\n    this.rotation = 0\n    this.opacity = 1\n    const image = new Image()\n    image.src = spaceship\n    image.onload = ()=> {\n      const scale = 0.15\n      this.image =  image\n      this.width = image.width * scale\n      this.height = image.height * scale\n      this.position = {\n        x: canvas.width / 2 - this.width / 2,\n        y: canvas.height - this.height - 20\n      }\n    }\n  }\n\n  draw() {\n    c.save()\n    c.globalAlpha = this.opacity\n    c.translate(this.position.x + this.width / 2, this.position.y + this.height / 2)\n    c.rotate(this.rotation)\n    c.translate(-this.position.x - this.width / 2, -this.position.y - this.height / 2)\n\n    c.drawImage(this.image, this.position.x, this.position.y, this.width, this.height)\n\n    c.restore()\n  }\n\n  update() {\n    if (this.image) {\n      this.draw()\n      this.position.x += this.velocity.x\n    }\n  }\n}\n\n\nclass Projectile {\n  constructor({position, velocity}) {\n    this.position = position\n    this.velocity = velocity\n\n    this.radius = 4\n  }\n\n  draw() {\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle = 'red'\n    c.fill()\n    c.closePath()\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n  }\n}\n\nclass Particle {\n  constructor({position, velocity, radius, color, fades}) {\n    this.position = position\n    this.velocity = velocity\n\n    this.radius = radius\n    this.color = color\n    this.opacity = 1\n    this.fades = fades\n  }\n\n  draw() {\n    c.save()\n    c.globalAlpha = this.opacity\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle =  this.color\n    c.fill()\n    c.closePath()\n    c.restore()\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n\n    if (this.fades) this.opacity -= 0.01\n  }\n}\n\nclass InvaderProjectile {\n  constructor({position, velocity}) {\n    this.position = position\n    this.velocity = velocity\n\n    this.width = 3\n    this.height = 10\n  }\n\n  draw() {\n    c.fillStyle = 'white'\n    c.fillRect(this.position.x, this.position.y, this.width, this.height)\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n  }\n}\n\nclass Invader {\n  constructor({position}) {\n    \n    this.velocity = {\n      x: 0,\n      y: 0\n    }\n    const image = new Image()\n    image.src = invaderImg\n    image.onload = ()=> {\n      const scale = 1\n      this.image =  image\n      this.width = image.width * scale\n      this.height = image.height * scale\n      this.position = {\n        x: position.x,\n        y: position.y\n      }\n    }\n  }\n\n  draw() {\n\n    c.drawImage(this.image, this.position.x, this.position.y, this.width, this.height)\n\n  }\n\n  update({velocity}) {\n    if (this.image) {\n      this.draw()\n      this.position.x += velocity.x\n      this.position.y += velocity.y\n    }\n  }\n\n  shoot(invaderProjectiles) {\n    invaderProjectiles.push(new InvaderProjectile({\n      position: {\n        x: this.position.x + this.width / 2,\n        y: this.position.y + this.height\n      },\n      velocity: {\n        x: 0,\n        y: 5\n      }\n    }))\n  }\n}\n\nclass Grid {\n  constructor() {\n    this.position = {\n      x: 0,\n      y: 0\n    }\n    this.velocity = {\n      x: 3,\n      y: 0\n    }\n    this.invaders = []\n\n    const columns = Math.floor(Math.random() * 10 + 5)\n    const rows = Math.floor(Math.random() * 5 + 2)\n    \n    this.width = columns * 30\n\n    for (let x=0; x< columns; x++) {\n      for (let y=0; y< rows; y++) {\n        this.invaders.push(new Invader({\n          position: {\n            x: x * 30,\n            y: y * 30\n          }\n        }))\n      }\n    }\n  }\n\n  update() {\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n\n    this.velocity.y = 0\n    if (this.position.x + this.width >= canvas.width || this.position.x <= 0) {\n      this.velocity.x = -this.velocity.x\n      this.velocity.y = 30\n    }\n  }\n}\n\nconst player = new Player()\nconst projectiles = []\nconst grids = []\nconst invaderProjectiles = []\nconst particles = []\n\nconst keys = {\n  a: {\n    pressed: false\n  },\n  d: {\n    pressed: false\n  },\n  space: {\n    pressed: false\n  },\n}\n\nlet frames = 0\nlet randomInterval = Math.floor((Math.random() * 500 + 500))\nlet game = {\n  over: false,\n  active: true\n}\nlet score = 0;\n\nfor (let i = 0; i< 100; i++) {\n  particles.push(new Particle({\n    position: {\n      x: Math.random() * canvas.width,\n      y: Math.random() * canvas.height\n    },\n    velocity: {\n      x: 0,\n      y: 0.3\n    },\n    radius: Math.random() * 2,\n    color: 'white'\n  }))\n}\n\nfunction createParticles({object, color, fades}) {\n  for (let i = 0; i< 15; i++) {\n    particles.push(new Particle({\n      position: {\n        x: object.position.x + object.width /2,\n        y: object.position.y + object.height /2\n      },\n      velocity: {\n        x: (Math.random() - 0.5) * 2,\n        y: (Math.random() - 0.5) * 2\n      },\n      radius: Math.random() * 3,\n      color: color || '#BAA0DE',\n      fades\n    }))\n  }\n}\n// Animation Loop\nfunction animate() {\n  if (!game.active) return\n  requestAnimationFrame(animate)\n  c.fillStyle = 'black'\n  c.fillRect(0, 0, canvas.width, canvas.height)\n  \n  player.update()\n\n  particles.forEach((particle, i) =>{\n\n    if (particle.position.y - particle.radius >= canvas.height) {\n      particle.position.x = Math.random() * canvas.width\n      particle.position.y = -particle.radius\n    }\n\n    if (particle.opacity <=0){\n      setTimeout(() => {\n        particles.splice(i, 1)\n      }, 0);\n    }\n    else\n      particle.update()\n  })\n\n  invaderProjectiles.forEach ((invaderProjectile, index) => {\n    if (invaderProjectile.position.y + invaderProjectile.height >= canvas.height) {\n      setTimeout(()=> {\n        invaderProjectiles.splice(index, 1)\n      }, 0 )\n    } else\n      invaderProjectile.update()\n\n    // projectile hits player\n    if (invaderProjectile.position.y + invaderProjectile.height >= player.position.y\n      && invaderProjectile.position.x + invaderProjectile.width >= player.position.x\n      && invaderProjectile.position.x <= player.position.x + player.width\n    )  {\n      console.log('you lose')\n\n      setTimeout(()=> {\n        invaderProjectiles.splice(index, 1)\n        player.opacity = 0\n        game.over = true\n      }, 0 )\n\n      setTimeout(()=> {\n        game.active = false\n      }, 2000)\n      \n      createParticles({\n        object: player,\n        color: 'white',\n        fades: true\n      })\n    }\n  })\n\n  projectiles.forEach((projectile, index) =>{\n    if (projectile.position.y + projectile.radius <= 0 ) {\n      setTimeout(() =>{\n        projectiles.splice(index, 1)\n      }, 0)\n    } else{\n      projectile.update()\n    }\n  })\n\n  grids.forEach((grid, gridIndex)=> {\n    grid.update()\n\n      // spawn projectiles\n    if (frames % 100 === 0 && grid.invaders.length > 0) {\n      grid.invaders[Math.floor(Math.random() * grid.invaders.length)].shoot(invaderProjectiles)\n    }\n\n    grid.invaders.forEach((invader, i) => {\n      invader.update({velocity: grid.velocity})\n\n      // projectiles hit enemy\n      projectiles.forEach( (projectile, j) => {\n        if (projectile.position.y - projectile.radius <= invader.position.y + invader.height\n          && projectile.position.x + projectile.radius >= invader.position.x \n          && projectile.position.x - projectile.radius <= invader.position.x + invader.width\n          && projectile.position.y + projectile.radius >= invader.position.y\n        ) {\n\n          \n          setTimeout(() => {\n            const invaderFound = grid.invaders.find((invader2) => \n               invader2 === invader\n            )\n\n            const projectileFound = projectiles.find(projectile2 => \n               projectile2 === projectile\n            )\n\n            // remove invader and projectile\n            if (invaderFound && projectileFound) {\n              score += 100\n              scoreEl.innerHTML = score\n\n              createParticles({\n                object: invader,\n                fades: true\n              })\n\n              grid.invaders.splice(i, 1)\n              projectiles.splice(j, 1)\n\n              if (grid.invaders.length > 0) {\n                const firstInvader = grid.invaders[0]\n                const lastInvader = grid.invaders[grid.invaders.length - 1]\n\n                grid.width = lastInvader.position.x - firstInvader.position.x + lastInvader.width\n\n                grid.position.x = firstInvader.position.x\n              } else {\n                grids.splice(gridIndex, 1)\n              }\n            }\n          }, 0);\n        }\n      })\n    })\n  })\n\n  if (keys.a.pressed && player.position.x >= 0) {\n    player.velocity.x = -7\n    player.rotation = -0.15\n  } else if (keys.d.pressed && player.position.x + player.width <= canvas.width) {\n    player.velocity.x = 7\n    player.rotation = 0.15\n  }\n   else {\n    player.velocity.x = 0\n    player.rotation = 0\n  }\n\n  // spawning enemies\n  if (frames % randomInterval === 0){\n    grids.push(new Grid())\n    randomInterval = Math.floor((Math.random() * 500 + 500))\n    frames = 0\n  }\n\n\n  frames++\n}\n\nanimate()\n\naddEventListener('keydown', ({key}) => {\n  if (game.over) return\n  switch (key){\n    case 'a':\n    case 'ArrowLeft':\n      keys.a.pressed = true\n      break;\n    case 'd':\n    case 'ArrowRight':\n      keys.d.pressed = true\n      break;\n    case ' ':\n      keys.space.pressed = true\n      projectiles.push(new Projectile({\n        position: {\n          x: player.position.x + player.width /2,\n          y: player.position.y\n        },\n        velocity: {\n          x: 0,\n          y: -5\n        }\n      }))\n      break;\n  }\n  console.log(key)\n})\n\naddEventListener('keyup', ({key}) => {\n  switch (key){\n    case 'a':\n    case 'ArrowLeft':\n      keys.a.pressed = false\n      break;\n    case 'd':\n    case 'ArrowRight':\n      keys.d.pressed = false\n      break;\n    case ' ':\n      keys.space.pressed = false\n      break;\n  }\n  console.log(key)\n})"],"names":["randomIntFromRange","min","max","Math","floor","random","randomColor","colors","length","distance","x1","y1","x2","y2","xDist","yDist","sqrt","pow","module","exports","spaceship","invaderImg","scoreEl","document","querySelector","canvas","c","getContext","width","height","Player","_this","_classCallCheck","velocity","x","y","rotation","opacity","image","Image","src","onload","scale","position","_createClass","key","value","draw","save","globalAlpha","translate","rotate","drawImage","restore","update","Projectile","_ref","radius","beginPath","arc","PI","fillStyle","fill","closePath","Particle","_ref2","color","fades","InvaderProjectile","_ref3","fillRect","Invader","_ref4","_this2","_ref5","shoot","invaderProjectiles","push","Grid","invaders","columns","rows","player","projectiles","grids","particles","keys","a","pressed","d","space","frames","randomInterval","game","over","active","score","i","createParticles","_ref6","object","animate","requestAnimationFrame","forEach","particle","setTimeout","splice","invaderProjectile","index","console","log","projectile","grid","gridIndex","invader","j","invaderFound","find","invader2","projectileFound","projectile2","innerHTML","firstInvader","lastInvader","addEventListener","_ref7","_ref8"],"sourceRoot":""}