{"version":3,"file":"./js/canvas.bundle.js","mappings":"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","sources":["webpack://canvas-template/./src/js/utils.js","webpack://canvas-template/./src/img/block.png","webpack://canvas-template/./src/img/capBottom.png","webpack://canvas-template/./src/img/capLeft.png","webpack://canvas-template/./src/img/capRight.png","webpack://canvas-template/./src/img/capTop.png","webpack://canvas-template/./src/img/pipeConnectorBottom.png","webpack://canvas-template/./src/img/pipeConnectorLeft.png","webpack://canvas-template/./src/img/pipeConnectorRight.png","webpack://canvas-template/./src/img/pipeConnectorTop.png","webpack://canvas-template/./src/img/pipeCorner1.png","webpack://canvas-template/./src/img/pipeCorner2.png","webpack://canvas-template/./src/img/pipeCorner3.png","webpack://canvas-template/./src/img/pipeCorner4.png","webpack://canvas-template/./src/img/pipeCross.png","webpack://canvas-template/./src/img/pipeHorizontal.png","webpack://canvas-template/./src/img/pipeVertical.png","webpack://canvas-template/webpack/bootstrap","webpack://canvas-template/webpack/runtime/compat get default export","webpack://canvas-template/webpack/runtime/define property getters","webpack://canvas-template/webpack/runtime/global","webpack://canvas-template/webpack/runtime/hasOwnProperty shorthand","webpack://canvas-template/webpack/runtime/make namespace object","webpack://canvas-template/webpack/runtime/publicPath","webpack://canvas-template/./src/js/canvas.js"],"sourcesContent":["function randomIntFromRange(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min)\n}\n\nfunction randomColor(colors) {\n  return colors[Math.floor(Math.random() * colors.length)]\n}\n\nfunction distance(x1, y1, x2, y2) {\n  const xDist = x2 - x1\n  const yDist = y2 - y1\n\n  return Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2))\n}\n\nmodule.exports = { randomIntFromRange, randomColor, distance }\n","export default __webpack_public_path__ + \"837ce00cf5fe953590b8faa0c5f463ed.png\";","export default __webpack_public_path__ + \"475eced911482f3b456f605843f9b1e9.png\";","export default __webpack_public_path__ + \"0844a08110274effeedcb4269305bcbb.png\";","export default __webpack_public_path__ + \"64655c1841eabd3730bb6fffb7727c75.png\";","export default __webpack_public_path__ + \"8d7dc706c68dd179dee57e553c0a48d3.png\";","export default __webpack_public_path__ + \"5759f41ddbf69dbd4cd3f2120ae60ff4.png\";","export default __webpack_public_path__ + \"a13dc575c4192d98edb17b696c2d62bd.png\";","export default __webpack_public_path__ + \"4af5644112c21ada65f912445451fbd8.png\";","export default __webpack_public_path__ + \"eb2089e1044a6e28e126d658787c901b.png\";","export default __webpack_public_path__ + \"ecb073ccdcb62c4b00d1c2267c7dd39e.png\";","export default __webpack_public_path__ + \"04c8bbf54d28ea758ba42592ddd115e7.png\";","export default __webpack_public_path__ + \"c4b88e63e1ee520fcfad406cb54a2f40.png\";","export default __webpack_public_path__ + \"6a13d68e60846307cd891a4ca77faada.png\";","export default __webpack_public_path__ + \"f9b0276f6ca5131cfefc0d69d4d61258.png\";","export default __webpack_public_path__ + \"14ec8a40ca6a166f28d81ab681aa38d5.png\";","export default __webpack_public_path__ + \"f70e7e7e2120b81f445f0ecf0725ab32.png\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../\";","import { randomIntFromRange, randomColor, distance } from './utils'\n\nconst canvas = document.querySelector('canvas')\nconst c = canvas.getContext('2d')\n\nconst scoreEl = document.querySelector('#scoreEl')\n\ncanvas.width = innerWidth\ncanvas.height = innerHeight\n\naddEventListener('resize', () => {\n  canvas.width = innerWidth\n  canvas.height = innerHeight\n\n})\n\nclass Boundary {\n  static width = 40\n  static height = 40\n  constructor ({position, image}) {\n    this.position = position\n    this.width = 40\n    this.height = 40\n    this.image = image\n  }\n\n  draw() {\n    //c.fillStyle = 'blue'\n    //c.fillRect(this.position.x, this.position.y, this.width, this.height)\n    c.drawImage(this.image, this.position.x, this.position.y)\n  }\n}\n\nclass Player {\n  constructor({position, velocity}) {\n    this.position = position\n    this.velocity = velocity\n    this.radius = 15\n    this.radians = 0.75\n    this.openRate = 0.12\n    this.rotation = 0\n  }\n\n  draw() {\n    c.save()\n    c.translate(this.position.x, this.position.y)\n    c.rotate(this.rotation)\n    c.translate(-this.position.x, -this.position.y)\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, this.radians , Math.PI * 2 - this.radians)\n    c.lineTo(this.position.x, this.position.y)\n    c.fillStyle = 'yellow'\n    c.fill()\n    c.closePath()\n    c.restore()\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n\n    if (this.radians < 0 || this.radians > 0.75) this.openRate = -this.openRate\n    \n    this.radians += this.openRate\n\n  }\n}\n\nclass Ghost {\n  static speed = 2\n  constructor({position, velocity, color = 'red'}) {\n    this.position = position\n    this.velocity = velocity\n    this.radius = 15\n    this.color = color\n    this.prevCollisions=[]\n    this.speed = 2\n    this.scared = false\n  }\n\n  draw() {\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle = this.scared ? 'blue' : this.color\n    c.fill()\n    c.closePath()\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n  }\n}\n\nclass Pellet {\n  constructor({position}) {\n    this.position = position\n    this.radius = 3\n  }\n\n  draw() {\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle = 'white'\n    c.fill()\n    c.closePath()\n  }\n}\n\nclass PowerUp {\n  constructor({position}) {\n    this.position = position\n    this.radius = 8\n  }\n\n  draw() {\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle = 'white'\n    c.fill()\n    c.closePath()\n  }\n}\n\nconst pellets = []\nconst boundaries = []\nconst powerUps = []\nconst ghosts = [\n  new Ghost({\n    position: {\n      x: Boundary.width * 6 + Boundary.width / 2,\n      y: Boundary.height + Boundary.height / 2,\n    },\n    velocity: {\n      x: Ghost.speed,\n      y: 0\n    }\n  }),\n  new Ghost({\n    position: {\n      x: Boundary.width * 6 + Boundary.width / 2,\n      y: Boundary.height * 3 + Boundary.height / 2,\n    },\n    velocity: {\n      x: Ghost.speed,\n      y: 0\n    },\n    color: 'pink'\n  }),\n]\nconst player = new Player({\n  position: {\n    x: Boundary.width + Boundary.width / 2,\n    y: Boundary.height + Boundary.height / 2,\n  },\n  velocity: {\n    x: 0,\n    y: 0\n  }\n})\nconst keys = {\n  w: {\n    pressed: false\n  },\n  a: {\n    pressed: false\n  },\n  s: {\n    pressed: false\n  },\n  d: {\n    pressed: false\n  }\n}\n\nlet lastKey = ''\nlet score = 0\n\nconst map = [\n  ['1', '-', '-', '-', '-', '-', '-', '-', '-', '-', '2'],\n  ['|', '.', '.', '.', '.', '.', '.', '.', '.', '.', '|'],\n  ['|', '.', 'b', '.', '[', '7', ']', '.', 'b', '.', '|'],\n  ['|', '.', '.', '.', '.', '_', '.', '.', '.', '.', '|'],\n  ['|', '.', '[', ']', '.', '.', '.', '[', ']', '.', '|'],\n  ['|', '.', '.', '.', '.', '^', '.', '.', '.', '.', '|'],\n  ['|', '.', 'b', '.', '[', '+', ']', '.', 'b', '.', '|'],\n  ['|', '.', '.', '.', '.', '_', '.', '.', '.', '.', '|'],\n  ['|', '.', '[', ']', '.', '.', '.', '[', ']', '.', '|'],\n  ['|', '.', '.', '.', '.', '^', '.', '.', '.', '.', '|'],\n  ['|', '.', 'b', '.', '[', '5', ']', '.', 'b', '.', '|'],\n  ['|', '.', '.', '.', '.', '.', '.', '.', '.', 'p', '|'],\n  ['4', '-', '-', '-', '-', '-', '-', '-', '-', '-', '3']\n]\n\nimport pipeHorizontal from '../img/pipeHorizontal.png'\nimport pipeVertical from '../img/pipeVertical.png'\nimport pipeCorner1 from '../img/pipeCorner1.png'\nimport pipeCorner2 from '../img/pipeCorner2.png'\nimport pipeCorner3 from '../img/pipeCorner3.png'\nimport pipeCorner4 from '../img/pipeCorner4.png'\nimport block from '../img/block.png'\nimport capLeft from '../img/capLeft.png'\nimport capRight from '../img/capRight.png'\nimport capBottom from '../img/capBottom.png'\nimport capTop from '../img/capTop.png'\nimport pipeCross from '../img/pipeCross.png'\nimport pipeConnectorTop from '../img/pipeConnectorTop.png'\nimport pipeConnectorRight from '../img/pipeConnectorRight.png'\nimport pipeConnectorBottom from '../img/pipeConnectorBottom.png'\nimport pipeConnectorLeft from '../img/pipeConnectorLeft.png'\n\nfunction createImage(src)\n{\n  const image = new Image()\n  image.src = src\n  return image\n}\n\nmap.forEach((row, i) => {\n  row.forEach((symbol, j) => {\n    switch(symbol){\n      case '-':\n        boundaries.push(new Boundary({\n          position: {\n            x: Boundary.width * j,\n            y: Boundary.height * i\n          },\n          image: createImage(pipeHorizontal)\n        }))\n        break;\n      case '|':\n          boundaries.push(new Boundary({\n            position: {\n              x: Boundary.width * j,\n              y: Boundary.height * i\n            },\n            image: createImage(pipeVertical)\n          }))\n          break;\n      case '1':\n          boundaries.push(new Boundary({\n            position: {\n              x: Boundary.width * j,\n              y: Boundary.height * i\n            },\n            image: createImage(pipeCorner1)\n          }))\n          break;\n      case '2':\n          boundaries.push(new Boundary({\n            position: {\n              x: Boundary.width * j,\n              y: Boundary.height * i\n            },\n            image: createImage(pipeCorner2)\n          }))\n          break;\n      case '3':\n          boundaries.push(new Boundary({\n            position: {\n              x: Boundary.width * j,\n              y: Boundary.height * i\n            },\n            image: createImage(pipeCorner3)\n          }))\n          break;\n      case '4':\n          boundaries.push(new Boundary({\n            position: {\n              x: Boundary.width * j,\n              y: Boundary.height * i\n            },\n            image: createImage(pipeCorner4)\n          }))\n          break;\n      case 'b':\n        boundaries.push(new Boundary({\n          position: {\n            x: Boundary.width * j,\n            y: Boundary.height * i\n          },\n          image: createImage(block)\n        }))\n        break;\n      case '[':\n        boundaries.push(\n          new Boundary({\n            position: {\n              x: j * Boundary.width,\n              y: i * Boundary.height\n            },\n            image: createImage(capLeft)\n          })\n        )\n        break\n      case ']':\n        boundaries.push(\n          new Boundary({\n            position: {\n              x: j * Boundary.width,\n              y: i * Boundary.height\n            },\n            image: createImage(capRight)\n          })\n        )\n        break\n      case '_':\n        boundaries.push(\n          new Boundary({\n            position: {\n              x: j * Boundary.width,\n              y: i * Boundary.height\n            },\n            image: createImage(capBottom)\n          })\n        )\n        break\n      case '^':\n        boundaries.push(\n          new Boundary({\n            position: {\n              x: j * Boundary.width,\n              y: i * Boundary.height\n            },\n            image: createImage(capTop)\n          })\n        )\n        break\n      case '+':\n        boundaries.push(\n          new Boundary({\n            position: {\n              x: j * Boundary.width,\n              y: i * Boundary.height\n            },\n            image: createImage(pipeCross)\n          })\n        )\n        break\n      case '5':\n        boundaries.push(\n          new Boundary({\n            position: {\n              x: j * Boundary.width,\n              y: i * Boundary.height\n            },\n            color: 'blue',\n            image: createImage(pipeConnectorTop)\n          })\n        )\n        break\n      case '6':\n        boundaries.push(\n          new Boundary({\n            position: {\n              x: j * Boundary.width,\n              y: i * Boundary.height\n            },\n            color: 'blue',\n            image: createImage(pipeConnectorRight)\n          })\n        )\n        break\n      case '7':\n        boundaries.push(\n          new Boundary({\n            position: {\n              x: j * Boundary.width,\n              y: i * Boundary.height\n            },\n            color: 'blue',\n            image: createImage(pipeConnectorBottom)\n          })\n        )\n        break\n      case '8':\n        boundaries.push(\n          new Boundary({\n            position: {\n              x: j * Boundary.width,\n              y: i * Boundary.height\n            },\n            image: createImage(pipeConnectorLeft)\n          })\n        )\n        break\n      case '.':\n        pellets.push(\n          new Pellet({\n            position: {\n              x: j * Boundary.width + Boundary.width / 2,\n              y: i * Boundary.height + Boundary.height / 2\n            }\n          })\n        )\n        break\n      case 'p':\n        powerUps.push(\n          new PowerUp({\n            position: {\n              x: j * Boundary.width + Boundary.width / 2,\n              y: i * Boundary.height + Boundary.height / 2\n            }\n          })\n        )\n        break  \n    }\n  })\n})\n\n\nfunction circleCollidesWithREctangle({circle,rectangle}){\n  const padding = Boundary.width / 2 - circle.radius - 1\n  return (\n    circle.position.y - circle.radius + circle.velocity.y <= rectangle.position.y + rectangle.height + padding\n    && circle.position.x + circle.radius + circle.velocity.x >= rectangle.position.x - padding\n    && circle.position.y + circle.radius + circle.velocity.y >= rectangle.position.y - padding\n    && circle.position.x - circle.radius + circle.velocity.x <= rectangle.position.x + rectangle.width + padding\n  )\n}\n\n// Animation Loop\nlet animationId\n\nfunction animate() {\n  animationId = requestAnimationFrame(animate)\n  c.clearRect(0, 0, canvas.width, canvas.height)\n  \n  if (keys.w.pressed && lastKey === 'w') {\n    for (let i=0; i< boundaries.length; i++) {\n      const boundary = boundaries[i]\n      if (circleCollidesWithREctangle({circle: {...player, velocity: {\n        x: 0,\n        y: -5\n      }}, rectangle: boundary})) {\n        player.velocity.y = 0\n        break\n      }\n      else\n        player.velocity.y = -5\n    }\n  } else if (keys.a.pressed && lastKey === 'a') {\n    for (let i=0; i< boundaries.length; i++) {\n      const boundary = boundaries[i]\n      if (circleCollidesWithREctangle({circle: {...player, velocity: {\n        x: -5,\n        y: 0\n      }}, rectangle: boundary})) {\n        player.velocity.x = 0\n        break\n      }\n      else\n        player.velocity.x = -5\n    }\n  } else if (keys.s.pressed && lastKey === 's') {\n    for (let i=0; i< boundaries.length; i++) {\n      const boundary = boundaries[i]\n      if (circleCollidesWithREctangle({circle: {...player, velocity: {\n        x: 0,\n        y: 5\n      }}, rectangle: boundary})) {\n        player.velocity.y = 0\n        break\n      }\n      else\n        player.velocity.y = 5\n    }\n  } else if (keys.d.pressed && lastKey === 'd') {\n    for (let i=0; i< boundaries.length; i++) {\n      const boundary = boundaries[i]\n      if (circleCollidesWithREctangle({circle: {...player, velocity: {\n        x: 5,\n        y: 0\n      }}, rectangle: boundary})) {\n        player.velocity.x = 0\n        break\n      }\n      else\n        player.velocity.x = 5\n    }\n  }\n\n  // detect collision between ghosts and player\n  for (let i = ghosts.length - 1; 0 <= i; i--){\n    const ghost = ghosts[i]\n    // ghost touches player\n    if (Math.hypot(ghost.position.x - player.position.x, ghost.position.y - player.position.y) < ghost.radius + player.radius ) {\n      if (ghost.scared) {\n        ghosts.splice(i, 1)\n      } else {\n        cancelAnimationFrame(animationId)\n        console.log('you lose')\n      }\n    }\n  }\n\n  // win condition goes here\n  if (pellets.length === 0) {\n    console.log('you won')\n    cancelAnimationFrame(animationId)\n  }\n\n  // power ups go\n  for (let i = powerUps.length - 1; 0 <= i; i--){\n    const powerUp = powerUps[i]\n    powerUp.draw()\n\n    // player collides with powerup\n    if (Math.hypot(powerUp.position.x - player.position.x, powerUp.position.y - player.position.y) < powerUp.radius + player.radius) {\n      powerUps.splice(i, 1)\n\n      // make ghosts scared\n      ghosts.forEach(ghost => {\n        ghost.scared = true\n        setTimeout(() => {\n          ghost.scared = false\n        }, 5000);\n      })\n    }\n  }\n\n  // touch pellets here\n  for (let i = pellets.length - 1; 0 <= i; i--){\n    const pellet = pellets[i]\n\n    pellet.draw()\n\n    if (Math.hypot(pellet.position.x - player.position.x, pellet.position.y - player.position.y) < pellet.radius + player.radius) {\n      pellets.splice(i, 1)\n      score += 10\n      scoreEl.innerHTML = score\n    }\n  }\n\n  boundaries.forEach((boundary) => {\n    boundary.draw()\n\n    if (circleCollidesWithREctangle({circle: player, rectangle: boundary})) {\n      player.velocity.x = 0\n      player.velocity.y = 0\n    }\n  })\n\n  player.update()\n\n  ghosts.forEach(ghost => {\n    ghost.update()\n\n    const collisions = []\n    boundaries.forEach(boundary => {\n      if (\n        !collisions.includes('right') &&\n        circleCollidesWithREctangle({circle: {...ghost, velocity: {\n        x: ghost.speed,\n        y: 0\n      }}, rectangle: boundary})) {\n       collisions.push('right')\n      }\n      if (\n        !collisions.includes('left') &&\n        circleCollidesWithREctangle({circle: {...ghost, velocity: {\n        x: -ghost.speed,\n        y: 0\n      }}, rectangle: boundary})) {\n       collisions.push('left')\n      }\n      if (\n        !collisions.includes('up') &&\n        circleCollidesWithREctangle({circle: {...ghost, velocity: {\n        x: 0,\n        y: -ghost.speed\n      }}, rectangle: boundary})) {\n       collisions.push('up')\n      }\n      if (\n        !collisions.includes('down') &&\n        circleCollidesWithREctangle({circle: {...ghost, velocity: {\n        x: 0,\n        y: ghost.speed\n      }}, rectangle: boundary})) {\n       collisions.push('down')\n      }\n    })\n\n    if (collisions.length > ghost.prevCollisions.length)\n    {\n      ghost.prevCollisions = collisions\n    }\n    if (JSON.stringify(collisions) !== JSON.stringify(ghost.prevCollisions))\n    {\n      if (ghost.velocity.x > 0) ghost.prevCollisions.push('right')\n      else if (ghost.velocity.x < 0) ghost.prevCollisions.push('left')  \n      else if (ghost.velocity.y < 0) ghost.prevCollisions.push('up')  \n      else if (ghost.velocity.y > 0) ghost.prevCollisions.push('down')  \n\n      const pathways = ghost.prevCollisions.filter(collision => {\n        return !collisions.includes(collision)\n      })\n\n      const direction = pathways[Math.floor(Math.random() * pathways.length)]\n      \n      switch (direction) {\n        case 'down':\n          ghost.velocity.y = ghost.speed\n          ghost.velocity.x = 0\n          break;\n\n        case 'up':\n          ghost.velocity.y = -ghost.speed\n          ghost.velocity.x = 0\n          break;\n\n        case 'right':\n          ghost.velocity.y = 0\n          ghost.velocity.x = ghost.speed\n          break;\n\n        case 'left':\n          ghost.velocity.y = 0\n          ghost.velocity.x = -ghost.speed\n          break;\n      }\n\n      ghost.prevCollisions = []\n    }\n  })\n\n  if (player.velocity.x > 0) player.rotation = 0\n  else if (player.velocity.x < 0) player.rotation = Math.PI\n  else if (player.velocity.y > 0) player.rotation = Math.PI / 2\n  else if (player.velocity.y < 0) player.rotation = Math.PI * 1.5\n} //end of animate()\n\nanimate()\n\naddEventListener('keydown', ({key}) => {\n  switch(key) {\n    case 'w':\n      keys.w.pressed = true\n      break\n    case 'a':\n      keys.a.pressed = true\n      break\n    case 's':\n      keys.s.pressed = true\n      break\n    case 'd':\n      keys.d.pressed = true\n      break\n  }\n  lastKey = key\n})\n\naddEventListener('keyup', ({key}) => {\n  switch(key) {\n    case 'w':\n      keys.w.pressed = false\n      break\n    case 'a':\n      keys.a.pressed = false\n      break\n    case 's':\n      keys.s.pressed = false\n      break\n    case 'd':\n      keys.d.pressed = false\n      break\n    }\n})"],"names":["randomIntFromRange","min","max","Math","floor","random","randomColor","colors","length","distance","x1","y1","x2","y2","xDist","yDist","sqrt","pow","module","exports","canvas","document","querySelector","c","getContext","scoreEl","width","innerWidth","height","innerHeight","addEventListener","Boundary","_ref","position","image","_classCallCheck","_createClass","key","value","draw","drawImage","x","y","_defineProperty","Player","_ref2","velocity","radius","radians","openRate","rotation","save","translate","rotate","beginPath","arc","PI","lineTo","fillStyle","fill","closePath","restore","update","Ghost","_ref3","_ref3$color","color","prevCollisions","speed","scared","Pellet","_ref4","PowerUp","_ref5","pellets","boundaries","powerUps","ghosts","player","keys","w","pressed","a","s","d","lastKey","score","map","pipeHorizontal","pipeVertical","pipeCorner1","pipeCorner2","pipeCorner3","pipeCorner4","block","capLeft","capRight","capBottom","capTop","pipeCross","pipeConnectorTop","pipeConnectorRight","pipeConnectorBottom","pipeConnectorLeft","createImage","src","Image","forEach","row","i","symbol","j","push","circleCollidesWithREctangle","_ref6","circle","rectangle","padding","animationId","animate","requestAnimationFrame","clearRect","boundary","_objectSpread","ghost","hypot","splice","cancelAnimationFrame","console","log","powerUp","setTimeout","pellet","innerHTML","collisions","includes","JSON","stringify","pathways","filter","collision","direction","_ref7","_ref8"],"sourceRoot":""}