{"version":3,"file":"main.js","mappings":"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","sources":["webpack://canvas-template/./src/index.js"],"sourcesContent":["const canvas = document.querySelector('canvas')\nconst c = canvas.getContext('2d')\n\ncanvas.width = 1024\ncanvas.height = 576\n\nc.fillRect(0, 0, canvas.width, canvas.height)\n\nconst gravity = 0.7\n\nconst background = new Sprite({\n  position: {\n    x: 0,\n    y: 0\n  },\n  imageSrc: '../img/background.png'\n})\n\nconst shop = new Sprite({\n  position: {\n    x: 600,\n    y: 128\n  },\n  imageSrc: '../img/shop.png',\n  scale: 2.75,\n  framesMax: 6\n})\n\nconst player = new Fighter({\n  position: {\n    x: 0,\n    y: 0\n  },\n  velocity: {\n    x: 0,\n    y: 10\n  },\n  offset: {\n    x: 0,\n    y: 0\n  },\n  imageSrc: '../img/samuraiMack/Idle.png',\n  framesMax: 8,\n  scale: 2.5,\n  offset: {\n    x: 215,\n    y: 157\n  },\n  sprites: {\n    idle: {\n      imageSrc: '../img/samuraiMack/Idle.png',\n      framesMax: 8\n    },\n    run: {\n      imageSrc: '../img/samuraiMack/Run.png',\n      framesMax: 8\n    },\n    jump: {\n      imageSrc: '../img/samuraiMack/Jump.png',\n      framesMax: 2\n    },\n    fall: {\n      imageSrc: '../img/samuraiMack/Fall.png',\n      framesMax: 2\n    },\n    attack1: {\n      imageSrc: '../img/samuraiMack/Attack1.png',\n      framesMax: 6\n    },\n    takeHit: {\n      imageSrc: '../img/samuraiMack/Take Hit - white silhouette.png',\n      framesMax: 4\n    },\n    death: {\n      imageSrc: '../img/samuraiMack/Death.png',\n      framesMax: 6\n    },\n  },\n  attackBox: {\n    offset: {\n      x: 100,\n      y: 50,\n    },\n    width: 160,\n    height: 50\n  }\n})\n\nconst enemy = new Fighter({\n  position: {\n    x: 400,\n    y: 100\n  },\n  velocity: {\n    x: 0,\n    y: 0\n  },\n  color: 'blue',\n  offset: {\n    x: -50,\n    y: 0\n  },\n  imageSrc: '../img/kenji/Idle.png',\n  framesMax: 4,\n  scale: 2.5,\n  offset: {\n    x: 215,\n    y: 167\n  },\n  sprites: {\n    idle: {\n      imageSrc: '../img/kenji/Idle.png',\n      framesMax: 4\n    },\n    run: {\n      imageSrc: '../img/kenji/Run.png',\n      framesMax: 8\n    },\n    jump: {\n      imageSrc: '../img/kenji/Jump.png',\n      framesMax: 2\n    },\n    fall: {\n      imageSrc: '../img/kenji/Fall.png',\n      framesMax: 2\n    },\n    attack1: {\n      imageSrc: '../img/kenji/Attack1.png',\n      framesMax: 4\n    },\n    takeHit: {\n      imageSrc: '../img/kenji/Takehit.png',\n      framesMax: 3\n    },\n    death: {\n      imageSrc: '../img/kenji/Death.png',\n      framesMax: 7\n    },\n  },\n  attackBox: {\n    offset: {\n      x: -170,\n      y: 50,\n    },\n    width: 175,\n    height: 50\n  }\n})\n\nconst keys = {\n  a: {\n    pressed: false\n  },\n  d: {\n    pressed: false\n  },\n  w: {\n    pressed: false\n  },\n  ArrowLeft: {\n    pressed: false\n  },\n  ArrowRight: {\n    pressed: false\n  }\n}\n\ndecreaseTimer()\n\nfunction animate() {\n  requestAnimationFrame(animate)\n  c.fillStyle = 'black'\n  c.fillRect(0, 0, canvas.width, canvas.height)\n\n  background.update()\n  shop.update()\n  player.update()\n  enemy.update()\n\n  player.velocity.x = 0\n  enemy.velocity.x = 0\n\n  // player movement\n\n  if (keys.a.pressed && player.lastKey === 'a') {\n    player.velocity.x = -5\n    player.switchSprite('run')\n  }\n  else if (keys.d.pressed && player.lastKey === 'd') {\n    player.velocity.x = 5\n    player.switchSprite('run')\n  } else {\n    player.switchSprite('idle')\n  }\n\n  // jumping\n  if (player.velocity.y < 0) {\n    player.switchSprite('jump')\n  } else if (player.velocity.y > 0) {\n    player.switchSprite('fall')\n  }\n\n  // Enemy movement\n  if (keys.ArrowLeft.pressed && enemy.lastKey === 'ArrowLeft') {\n    enemy.velocity.x = -5\n    enemy.switchSprite('run')\n  } else if (keys.ArrowRight.pressed && enemy.lastKey === 'ArrowRight') {\n    enemy.velocity.x = 5\n    enemy.switchSprite('run')\n  } else {\n    enemy.switchSprite('idle')\n  }\n\n  // jumping\n  if (enemy.velocity.y < 0) {\n    enemy.switchSprite('jump')\n  } else if (enemy.velocity.y > 0) {\n    enemy.switchSprite('fall')\n  }\n\n  // detect for collision & enemy gets hit\n  if (rectangularCollision({\n    rectangle1: player,\n    rectangle2: enemy\n  })\n    && player.isAttacking\n    && player.framesCurrent === 4\n  ) {\n    enemy.takeHit()\n    player.isAttacking = false\n    document.querySelector('#enemyHealth').style.width = enemy.health + '%'\n  }\n\n  // if player misses\n  if (player.isAttacking && player.framesCurrent === 4) {\n    player.isAttacking = false\n  }\n\n  // this is where our player gets hit\n  if (rectangularCollision({\n    rectangle1: enemy,\n    rectangle2: player\n  })\n    && enemy.isAttacking\n    && enemy.framesCurrent === 2\n  ) {\n    player.takeHit()\n    enemy.isAttacking = false\n    document.querySelector('#playerHealth').style.width = player.health + '%'\n  }\n\n  // if enemy misses\n  if (enemy.isAttacking && enemy.framesCurrent === 2) {\n    enemy.isAttacking = false\n  }\n\n  // end game based on health\n  if (enemy.health <= 0 || player.health <= 0) {\n    determineWinner({ player, enemy, timerId })\n  }\n}\n\nanimate()\n\naddEventListener('keydown', (event) => {\n  if (!player.dead) {\n    switch (event.key) {\n      case 'd':\n        keys.d.pressed = true\n        player.lastKey = event.key\n        break;\n      case 'a':\n        keys.a.pressed = true\n        player.lastKey = event.key\n        break;\n      case 'w':\n        player.velocity.y = -20\n        break;\n      case ' ':\n        player.attack()\n        break;\n\n    }\n  }\n  if (!enemy.dead) {\n    switch (event.key) {\n      case 'ArrowRight':\n        keys.ArrowRight.pressed = true\n        enemy.lastKey = 'ArrowRight'\n        break;\n      case 'ArrowLeft':\n        keys.ArrowLeft.pressed = true\n        enemy.lastKey = 'ArrowLeft'\n        break;\n      case 'ArrowUp':\n        enemy.velocity.y = -20\n        break;\n      case 'ArrowDown':\n        enemy.attack()\n        break;\n    }\n  }\n})\n\naddEventListener('keyup', (event) => {\n  switch (event.key) {\n    case 'd':\n      keys.d.pressed = false\n      break;\n    case 'a':\n      keys.a.pressed = false\n      break;\n    case 'ArrowRight':\n      keys.ArrowRight.pressed = false\n      break;\n    case 'ArrowLeft':\n      keys.ArrowLeft.pressed = false\n      break;\n  }\n})"],"names":["canvas","document","querySelector","c","getContext","width","height","fillRect","gravity","background","Sprite","position","x","y","imageSrc","shop","scale","framesMax","player","Fighter","_defineProperty","velocity","offset","idle","run","jump","fall","attack1","takeHit","death","enemy","color","keys","a","pressed","d","w","ArrowLeft","ArrowRight","decreaseTimer","animate","requestAnimationFrame","fillStyle","update","lastKey","switchSprite","rectangularCollision","rectangle1","rectangle2","isAttacking","framesCurrent","style","health","determineWinner","timerId","addEventListener","event","dead","key","attack"],"sourceRoot":""}